:root{
  --bg0:#0b0b12;
  --bg1:#101023;
  --card: rgba(255,255,255,.06);
  --card2: rgba(255,255,255,.09);
  --stroke: rgba(255,255,255,.12);

  --text:#f7f7ff;
  --muted: rgba(247,247,255,.75);

  --accent:#ff3b6b;
  --accent2:#ff7aa6;

  --shadow: 0 18px 50px rgba(0,0,0,.45);
  --r16: 16px;
  --r22: 22px;
}
html, body{
  height: 100%;
  background: #0b0b12;   /* ίδιο σκούρο με το bg σου */
}

body{
  min-height: 100vh;
  min-height: -webkit-fill-available; /* iOS */
   overscroll-behavior: none;
}

/* Γεμίζει σωστά τις “εγκοπές” (notch / home indicator) */
@supports (padding: env(safe-area-inset-top)) {
  body{
    padding-top: env(safe-area-inset-top);
    padding-bottom: env(safe-area-inset-bottom);
    padding-left: env(safe-area-inset-left);
    padding-right: env(safe-area-inset-right);
  }
}


*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
  color: var(--text);

  background:
    radial-gradient(1000px 600px at 15% 10%, rgba(255,59,107,.25), transparent 55%),
    radial-gradient(900px 600px at 85% 20%, rgba(255,122,166,.18), transparent 55%),
    linear-gradient(180deg, var(--bg1), var(--bg0));
}

/* App shell */
.app{
  min-height:100%;
  display:flex;
  flex-direction:column;
  align-items:center;
  padding:18px;
}

.topbar{
  width:min(560px, 100%);
  display:flex;
  flex-direction:column;
  gap:12px;
  margin-bottom:12px;
}

.brand{
  display:flex;
  align-items:center;
  gap:10px;
}

.logo{
  width:38px;
  height:38px;
  border-radius:14px;
  display:flex;
  align-items:center;
  justify-content:center;
  background: linear-gradient(135deg, rgba(255,59,107,.25), rgba(255,122,166,.18));
  border:1px solid var(--stroke);
  box-shadow: 0 10px 25px rgba(0,0,0,.25);
}

.brandTitle{
  font-weight:800;
  letter-spacing:.2px;
  font-size:16px;
}
.brandSub{
  font-size:13px;
  color: var(--muted);
  margin-top:2px;
}

/* Tabs */
.tabs{
  display:flex;
  gap:10px;
  padding:8px;
  border-radius: 999px;
  background: rgba(255,255,255,.05);
  border:1px solid var(--stroke);
  width: fit-content;
}

.tab{
  border:0;
  background: transparent;
  color: var(--muted);
  padding:10px 14px;
  border-radius: 999px;
  cursor:pointer;
  font-weight:700;
  letter-spacing:.1px;
  transition: transform .08s ease, background .2s ease, color .2s ease;
}

.tab:active{ transform: scale(.98); }

.tab.active{
  color: #14040a;
  background: linear-gradient(135deg, var(--accent), var(--accent2));
  box-shadow: 0 10px 22px rgba(255,59,107,.25);
}

/* Main + views */
.main{
  width:min(560px, 100%);
  display:flex;
  flex-direction:column;
  gap:12px;
}

.view{ display:none; }
.view.active{ display:block; }

.card{
  background: var(--card);
  border: 1px solid var(--stroke);
  border-radius: var(--r22);
  padding:16px;
  box-shadow: var(--shadow);
  backdrop-filter: blur(10px);
}

.hero{
  display:grid;
  grid-template-columns: 1.25fr .75fr;
  gap:14px;
  align-items:center;
}

@media (max-width: 520px){
  .hero{ grid-template-columns:1fr; }
}

.h1{
  margin:0 0 6px 0;
  font-size:24px;
  line-height:1.15;
  letter-spacing:.2px;
}
.h2{
  margin:0 0 6px 0;
  font-size:20px;
  letter-spacing:.2px;
}
.p{
  margin:0;
  color: var(--muted);
  line-height:1.35;
}

/* Progress */
.progress{
  margin-top:12px;
  display:flex;
  align-items:center;
  gap:10px;
}
.progressBar{
  flex:1;
  height:10px;
  border-radius:999px;
  background: rgba(255,255,255,.07);
  border:1px solid rgba(255,255,255,.10);
  overflow:hidden;
}
.progressFill{
  height:100%;
  width:0%;
  border-radius:999px;
  background: linear-gradient(135deg, var(--accent), var(--accent2));
  transition: width .35s ease;
}
.progressText{
  font-size:12px;
  color: rgba(255,255,255,.85);
  min-width: 46px;
  text-align:right;
}

/* Buttons */
.actions{
  display:flex;
  gap:10px;
  margin-top:12px;
  flex-wrap:wrap;
}
.btn{
  border:0;
  cursor:pointer;
  border-radius: 14px;
  padding:12px 14px;
  font-weight:800;
  letter-spacing:.1px;
  transition: transform .08s ease, filter .2s ease, background .2s ease;
}
.btn:active{ transform: scale(.98); }

.btn.primary{
  color:#14040a;
  background: linear-gradient(135deg, var(--accent), var(--accent2));
  box-shadow: 0 12px 26px rgba(255,59,107,.25);
}
.btn.ghost{
  color: var(--text);
  background: rgba(255,255,255,.06);
  border:1px solid var(--stroke);
}

/* Gift visual */
.giftVisual{
  position:relative;
  height:180px;
  border-radius: var(--r22);
  border:1px solid rgba(255,255,255,.10);
  background:
    radial-gradient(220px 180px at 50% 40%, rgba(255,59,107,.22), transparent 60%),
    rgba(255,255,255,.04);
  display:flex;
  align-items:center;
  justify-content:center;
  overflow:hidden;
}
.giftGlow{
  position:absolute;
  inset:-30%;
  background: radial-gradient(circle, rgba(255,59,107,.22), transparent 60%);
  filter: blur(12px);
  animation: glow 2.6s ease-in-out infinite;
}
@keyframes glow{
  0%,100%{ transform: scale(1); opacity:.75; }
  50%{ transform: scale(1.08); opacity:1; }
}
.giftEmoji{
  position:relative;
  font-size:62px;
  filter: drop-shadow(0 18px 25px rgba(0,0,0,.35));
}

/* Reveal */
.reveal{
  border-radius: var(--r22);
}
.revealTitle{
  font-weight:900;
  letter-spacing:.2px;
  margin-bottom:8px;
}
.revealBody{
  color: rgba(255,255,255,.88);
  line-height:1.45;
  background: rgba(0,0,0,.18);
  border:1px dashed rgba(255,255,255,.12);
  border-radius: 16px;
  padding:12px;
  min-height:88px;
}
.revealBody img{
  width:100%;
  border-radius:14px;
  border:1px solid rgba(255,255,255,.12);
}
.revealBody a{
  color: var(--text);
  text-decoration:none;
  display:inline-block;
  margin-top:10px;
}

/* Tip card */
.tip{
  background: rgba(255,255,255,.04);
}
.tipTitle{
  font-weight:900;
  margin-bottom:6px;
}
.tipBody{
  color: var(--muted);
}

/* Future grid */
.grid{
  display:grid;
  grid-template-columns:1fr;
  gap:10px;
  margin-top:12px;
}
.tile{
  border:1px solid var(--stroke);
  border-radius: 18px;
  background: rgba(255,255,255,.06);
  padding:12px;
  cursor:pointer;
  display:flex;
  align-items:center;
  gap:12px;
  text-align:left;
  transition: transform .08s ease, background .2s ease;
  color: var(--text);
}
.tile:active{ transform: scale(.99); }
.tile:hover{ background: rgba(255,255,255,.08); }

.tileEmoji{ font-size:24px; }
.tileTitle{ font-weight:900; letter-spacing:.1px; }
.tileSub{ color: var(--muted); font-size:13px; margin-top:2px; }

.panel{
  margin-top:12px;
  padding:12px;
  border-radius: 18px;
  background: rgba(0,0,0,.18);
  border:1px solid rgba(255,255,255,.10);
  color: rgba(255,255,255,.88);
  min-height:72px;
}

/* Footer actions */
.footerActions{
  margin-top:14px;
  padding-top:12px;
  border-top:1px solid rgba(255,255,255,.10);
  display:flex;
  flex-direction:column;
  gap:10px;
}
.quote{
  text-align:center;
  color: rgba(255,255,255,.85);
  font-style: italic;
}

/* Modal */
.modal{
  position:fixed;
  inset:0;
  background: rgba(0,0,0,.55);
  display:flex;
  align-items:center;
  justify-content:center;
  padding:16px;
}
.modal.hidden{ display:none; }

.modalCard{
  width:min(420px, 100%);
  border-radius: var(--r22);
  background: rgba(20,20,38,.92);
  border:1px solid rgba(255,255,255,.12);
  box-shadow: var(--shadow);
  padding:16px;
  text-align:center;
}
.modalIcon{
  font-size:28px;
  margin-bottom:8px;
}
.modalTitle{
  font-weight:950;
  font-size:18px;
  margin-bottom:6px;
}
.modalText{
  color: var(--muted);
  line-height:1.4;
  margin-bottom:12px;
}
.modalButtons{
  display:flex;
  gap:10px;
  justify-content:center;
  flex-wrap:wrap;
}
/* ===== INTRO OVERLAY ===== */
.intro{
  position: fixed;
  inset: 0;
  z-index: 9999;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:18px;
  background:
    radial-gradient(1000px 650px at 20% 10%, rgba(255,59,107,.28), transparent 55%),
    radial-gradient(900px 650px at 80% 20%, rgba(255,122,166,.18), transparent 55%),
    rgba(0,0,0,.55);
  backdrop-filter: blur(10px);
}

.intro.hide{
  animation: introOut .35s ease forwards;
}

@keyframes introOut{
  to{ opacity:0; transform: scale(.98); pointer-events:none; }
}

.introCard{
  width: min(420px, 100%);
  border-radius: var(--r22);
  background: rgba(20,20,38,.92);
  border: 1px solid rgba(255,255,255,.12);
  box-shadow: var(--shadow);
  padding: 18px;
  text-align:center;
}

.introGift{
  position: relative;
  height: 150px;
  border-radius: 18px;
  border:1px solid rgba(255,255,255,.10);
  background:
    radial-gradient(240px 180px at 50% 40%, rgba(255,59,107,.26), transparent 62%),
    rgba(255,255,255,.05);
  display:flex;
  align-items:center;
  justify-content:center;
  overflow:hidden;
  margin-bottom: 12px;
}

.introGlow{
  position:absolute;
  inset:-35%;
  background: radial-gradient(circle, rgba(255,59,107,.28), transparent 62%);
  filter: blur(14px);
  animation: glow 2.2s ease-in-out infinite;
}

.introEmoji{
  position:relative;
  font-size: 64px;
  animation: pop 1.1s ease-in-out infinite;
  filter: drop-shadow(0 18px 25px rgba(0,0,0,.35));
}

@keyframes pop{
  0%,100%{ transform: translateY(0) scale(1); }
  50%{ transform: translateY(-6px) scale(1.05); }
}

.introTitle{
  font-weight: 950;
  font-size: 20px;
  letter-spacing:.2px;
  margin: 6px 0 6px;
}

.introText{
  color: var(--muted);
  line-height: 1.45;
  margin-bottom: 12px;
}

.introBtn{
  width: 100%;
}

.introHint{
  margin-top: 8px;
  color: rgba(247,247,255,.70);
  font-size: 12px;
}
.step{ display:none; }
.step.active{ display:block; }

.oneCol{ display:flex; flex-direction:column; gap:12px; }
.giftVisual.big{ height: 220px; }
.giftVisual.clickable{ cursor:pointer; }

.miniProgress{
  display:flex;
  align-items:center;
  gap:10px;
  width: min(560px, 100%);
  max-width: 560px;
}

.p.bigQ{
  font-size: 20px;
  margin-top: 10px;
  line-height: 1.4;
  color: rgba(247,247,255,.92);
}
/* ===== HEART STEP ===== */
.heartStep{
  align-items:center;
  text-align:center;
}

.heartWrap{
  position:relative;
  width:120px;
  height:120px;
  border-radius:50%;
  display:flex;
  align-items:center;
  justify-content:center;
  margin:10px 0 6px;
  cursor:pointer;
}

.heartGlow{
  position:absolute;
  inset:-40%;
  background: radial-gradient(circle, rgba(255,59,107,.35), transparent 65%);
  filter: blur(16px);
  animation: heartGlow 2.4s ease-in-out infinite;
}

@keyframes heartGlow{
  0%,100%{ opacity:.7; transform: scale(1); }
  50%{ opacity:1; transform: scale(1.1); }
}

.heartIcon{
  position:relative;
  font-size:64px;
  animation: heartBeat 1.6s ease-in-out infinite;
}

@keyframes heartBeat{
  0%,100%{ transform: scale(1); }
  40%{ transform: scale(1.1); }
}

.heartText{
  margin-top:10px;
  font-size:16px;
  color: rgba(247,247,255,.9);
  line-height:1.4;
}

/* Photo reveal */
.photoReveal{
  margin-top:14px;
  animation: fadeUp .5s ease forwards;
}

.photoReveal.hidden{
  display:none;
}

.photoReveal img{
  width:100%;
  border-radius:18px;
  border:1px solid rgba(255,255,255,.12);
}

.photoCaption{
  margin-top:8px;
  font-size:14px;
  color: rgba(247,247,255,.85);
}

@keyframes fadeUp{
  from{ opacity:0; transform: translateY(8px); }
  to{ opacity:1; transform: translateY(0); }
}
/* ===== HOLD-TO-REVEAL PHOTO ===== */
.photoReveal{
  overflow: hidden;
}

.photoReveal img{
  width:100%;
  border-radius:18px;
  border:1px solid rgba(255,255,255,.12);

  /* αρχική κατάσταση (κρυφή) */
  opacity: 0;
  filter: blur(14px) brightness(.75);
  transform: scale(1.03);

  transition: opacity .18s linear, filter .18s linear, transform .18s linear;
}

/* μικρό hint */
.holdHint{
  margin-top:10px;
  font-size:12px;
  color: rgba(247,247,255,.72);
}
/* ===== BOOM PACK: Hold ring + Sparks ===== */
.heartWrap{
  position: relative;
  width: 140px;
  height: 140px;
  border-radius: 50%;
  display:flex;
  align-items:center;
  justify-content:center;
  margin: 10px auto 6px;
  cursor:pointer;
  -webkit-tap-highlight-color: transparent;
  user-select: none;
  touch-action: manipulation;
}

.ring{
  position:absolute;
  width:140px;
  height:140px;
  transform: rotate(-90deg);
  filter: drop-shadow(0 10px 18px rgba(255,59,107,.22));
  pointer-events:none;
}

.ringTrack{
  fill:none;
  stroke: rgba(255,255,255,.10);
  stroke-width: 8;
}

.ringFill{
  fill:none;
  stroke: rgba(255,59,107,.95);
  stroke-width: 8;
  stroke-linecap: round;
  stroke-dasharray: 289;
  stroke-dashoffset: 289;
  transition: stroke-dashoffset .08s linear;
  filter: drop-shadow(0 0 10px rgba(255,59,107,.35));
}

.heartWrap.is-holding .heartIcon{
  animation: holdPulse .55s ease-in-out infinite;
}

@keyframes holdPulse{
  0%,100%{ transform: scale(1); }
  50%{ transform: scale(1.12); }
}

.sparks{
  position:absolute;
  inset:0;
  pointer-events:none;
  z-index:1;
}

.spark{
  position:absolute;
  left:50%;
  top:50%;
  transform: translate(-50%,-50%);
  font-size: 14px;
  opacity: 0;
  animation: sparkFly .85s ease-out forwards;
  filter: drop-shadow(0 8px 12px rgba(0,0,0,.35));
}

@keyframes sparkFly{
  0%   { opacity:0; transform: translate(-50%,-50%) scale(.8); }
  15%  { opacity:1; }
  100% { opacity:0; transform: translate(calc(-50% + var(--dx)), calc(-50% + var(--dy))) scale(1.35); }
}

.heartWrap.boom{
  animation: boomGlow .6s ease-out;
}
@keyframes boomGlow{
  0%{ filter: drop-shadow(0 0 0 rgba(255,59,107,0)); }
  60%{ filter: drop-shadow(0 0 22px rgba(255,59,107,.55)); }
  100%{ filter: drop-shadow(0 0 0 rgba(255,59,107,0)); }
}

/* Reveal image baseline (για το hold-to-reveal) */
.photoReveal img{
  opacity: 0;
  filter: blur(14px) brightness(.75);
  transform: scale(1.03);
  transition: opacity .12s linear, filter .12s linear, transform .12s linear;
}
/* ===== Mini Puzzle 2x3 ===== */
/* ===== Mini Puzzle 2x3 ===== */
.puzzleWrap{ margin-top:10px; }
.puzzleTop{ display:flex; align-items:center; justify-content:space-between; gap:10px; margin-bottom:10px; }
.puzzleText{ color: rgba(247,247,255,.88); font-weight:800; letter-spacing:.1px; }
.puzzleBadge{ font-size:12px; padding:6px 10px; border-radius:999px; border:1px solid rgba(255,255,255,.12); background: rgba(255,255,255,.06); color: rgba(247,247,255,.92); }

.puzzleBoard{
  position:relative;
  width:100%;
  max-width:440px;
  margin:0 auto;
  aspect-ratio: 2 / 3;
  border-radius:18px;
  border:1px solid rgba(255,255,255,.12);
  background: rgba(255,255,255,.04);
  overflow:hidden;
  touch-action:none;
}

.puzzleSlot{
  position:absolute;
  z-index:1;
  border:1px dashed rgba(255,255,255,.18);
  background: rgba(0,0,0,.10);
  border-radius:14px;
}

.puzzlePiece{
  position:absolute;
  z-index:5;
  border-radius:14px;
  border:1px solid rgba(255,255,255,.16);
  box-shadow: 0 16px 30px rgba(0,0,0,.35);
  background-image: var(--img);
  background-repeat:no-repeat;
  cursor:grab;
  user-select:none;
  -webkit-tap-highlight-color: transparent;
}

.puzzlePiece.dragging{ z-index:50; }
.puzzlePiece.locked{ z-index:10; box-shadow:none; cursor:default; }

.puzzleBoard.done{
  animation: puzzleGlow .65s ease-out;
}
@keyframes puzzleGlow{
  0%{ filter: drop-shadow(0 0 0 rgba(255,59,107,0)); }
  60%{ filter: drop-shadow(0 0 22px rgba(255,59,107,.55)); }
  100%{ filter: drop-shadow(0 0 0 rgba(255,59,107,0)); }
}
.puzzleActions{
  margin-top:12px;
  display:flex;
  gap:10px;
  align-items:center;
  justify-content:space-between;
}

.puzzleMini{
  margin-top:10px;
  padding:10px 12px;
  border-radius:14px;
  border:1px solid rgba(255,255,255,.12);
  background: rgba(255,59,107,.10);
  color: rgba(247,247,255,.92);
  font-weight:800;
  text-align:center;
  animation: miniPop .5s ease both;
}

.hidden{ display:none !important; }

@keyframes miniPop{
  from{ opacity:0; transform: translateY(8px) scale(.98); }
  to{ opacity:1; transform: translateY(0) scale(1); }
}
/* ===== HOLD WORDS STEP ===== */
.holdWordsWrap{
  position:relative;
  width:100%;
  max-width: 420px;
  margin: 8px auto 6px;
  padding: 18px 16px;
  border-radius: 22px;
  border: 1px solid rgba(255,255,255,.12);
  background:
    radial-gradient(260px 180px at 50% 30%, rgba(255,59,107,.20), transparent 62%),
    rgba(255,255,255,.04);
  text-align:center;
  cursor: pointer;
  user-select:none;
  -webkit-user-select:none;
  touch-action: none; /* για stable pointer events */
  overflow:hidden;
}

.holdWordsGlow{
  position:absolute;
  inset:-40%;
  background: radial-gradient(circle, rgba(255,59,107,.22), transparent 62%);
  filter: blur(14px);
  opacity:.85;
  transform: scale(1);
  transition: transform .2s ease, opacity .2s ease;
}

.holdWordsWrap.is-holding .holdWordsGlow{
  opacity: 1;
  transform: scale(1.12);
}

.holdWordsBig{
  position:relative;
  font-weight: 950;
  letter-spacing: .2px;
  font-size: 34px;
  line-height: 1.05;
  margin: 10px 0 12px;
}

.holdWordsBar{
  position:relative;
  height: 10px;
  border-radius: 999px;
  background: rgba(255,255,255,.10);
  border: 1px solid rgba(255,255,255,.12);
  overflow:hidden;
  margin: 0 auto 10px;
}

.holdWordsBarFill{
  height:100%;
  width:0%;
  border-radius:999px;
  background: linear-gradient(135deg, var(--accent), var(--accent2));
  transition: width .08s linear;
}

.holdWordsHint{
  position:relative;
  color: rgba(247,247,255,.82);
  font-size: 13px;
}

.holdWordsWrap.done .holdWordsBig{
  animation: miniPop .5s ease both;
}

@keyframes miniPop{
  from{ opacity:0; transform: translateY(8px) scale(.98); }
  to{ opacity:1; transform: translateY(0) scale(1); }
}
.spotifyEmbed iframe {
  box-shadow: 0 10px 30px rgba(0,0,0,.35);
}
.actionCenter {
  display: flex;
  justify-content: center;
  margin-top: 20px;
}
.quizOpts {
  display: grid;
  gap: 10px;
}

.quizOpt {
  width: 100%;
  padding: 12px 14px;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,.14);
  background: rgba(0,0,0,.18);
  color: white;
  font-weight: 800;
}

.quizOpt.selected {
  border-color: rgba(255, 80, 140, .9);
  background: rgba(255, 80, 140, .18);
}

.quizActions {
  display: flex;
  gap: 10px;
  margin-top: 14px;
}

.quizActions .btn {
  flex: 1;
}
/* ===== LOCK SCREEN ===== */
.lockScreen{
  position: fixed;
  inset: 0;
  z-index: 99999;
  background:
    radial-gradient(1000px 600px at 15% 10%, rgba(255,59,107,.25), transparent 55%),
    linear-gradient(180deg, #101023, #0b0b12);
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 18px;
}

.lockCard{
  width: min(360px, 92%);
  background: rgba(20,20,38,.92);
  border: 1px solid rgba(255,255,255,.12);
  border-radius: 22px;
  padding: 22px;
  text-align: center;
  box-shadow: 0 20px 50px rgba(0,0,0,.45);
}

.lockEmoji{ font-size: 42px; margin-bottom: 10px; }
.lockTitle{ font-weight: 900; font-size: 20px; margin-bottom: 6px; }
.lockText{ color: rgba(247,247,255,.75); font-size: 14px; margin-bottom: 14px; }

#lockInput{
  width: 100%;
  padding: 14px;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,.2);
  background: rgba(0,0,0,.25);
  color: white;
  font-size: 16px;
  text-align: center;
  margin-bottom: 12px;
  outline: none;
}

.lockError{ margin-top: 10px; color: #ff7aa6; font-weight: 700; }

.lockScreen.fadeOut{
  animation: lockFade .32s ease forwards;
}
@keyframes lockFade{
  to{ opacity:0; transform: scale(.99); pointer-events:none; }
}
.futureImg{
  width: 100%;
  border-radius: 14px;
  margin-bottom: 10px;
  border: 1px solid rgba(255,255,255,.12);
  display: block;
}
.modeBtns{
  display: grid;
  gap: 10px;
  margin-top: 12px;
}
.usGrid{
  display: grid;
  grid-template-columns: 1fr 1fr 1fr;
  gap: 10px;
  margin-bottom: 12px;
}
.usBox{
  padding: 14px;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,.12);
  background: rgba(0,0,0,.18);
  min-height: 90px;
  line-height: 1.45;
}
@media (max-width: 420px){
  .usGrid{ grid-template-columns: 1fr; }
}
/* ===== Moments (Instagram-like) ===== */
.momentsPage { padding: 14px; }

.momTop{
  display:flex; align-items:center; justify-content:space-between;
  gap:10px; margin-bottom:12px;
}
.momTitle{ font-weight:950; letter-spacing:.2px; }

.momGrid{
  display:grid;
  grid-template-columns:repeat(3,1fr);
  gap:10px;
}

.momTile{
  border-radius:14px;
  overflow:hidden;
  background: rgba(0,0,0,.25);
  border: 1px solid rgba(255,255,255,.10);
  aspect-ratio: 1 / 1;
  position: relative;
}
.momTile img{
  width:100%; height:100%;
  object-fit: cover;
  display:block;
  transform: scale(1.02);
}
/* ===== Fullscreen Reels Viewer (swipe up/down) ===== */
.momReels{
  position: fixed;
  inset: 0;
  z-index: 10000;
  background: rgba(10,6,12,.96);
  backdrop-filter: blur(10px);
}
.momReels.hidden{ display:none; }

.momReelsClose{
  position: fixed;
  z-index: 10005;            /* πιο πάνω από όλα */
  top: calc(12px + env(safe-area-inset-top));
  left: 12px;

  width: 44px;
  height: 44px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,.22);
  background: rgba(0,0,0,.55);
  color: #fff;
  font-size: 22px;

  display:flex;
  align-items:center;
  justify-content:center;

  pointer-events: auto;      /* <- κρίσιμο */
  touch-action: manipulation;/* <- κρίσιμο */
}

.momReelsHint{
  position:absolute;
  top: max(16px, env(safe-area-inset-top));
  left: 0; right: 0;
  text-align:center;
  font-size: 13px;
  opacity: .85;
  pointer-events:none;
}

/* SCROLL CONTAINER */
.momReelsList{
  position: relative;
  z-index: 1;
  height: 100dvh;
  overflow-y: auto;
  scroll-snap-type: y mandatory;
  -webkit-overflow-scrolling: touch;
  padding-top: calc(60px + env(safe-area-inset-top)); /* αφήνει χώρο για Χ + hint */
  padding-bottom: env(safe-area-inset-bottom);
}

/* ΚΑΘΕ POST */
.reelItem{
  height: 100dvh;
  scroll-snap-align: start;
  display: flex;
  flex-direction: column;
}

/* ΦΩΤΟ */
.reelMedia{
  flex: 0 0 auto; /* όχι 1 */
  height: calc(100dvh - 190px - env(safe-area-inset-top) - env(safe-area-inset-bottom));
  display:flex;
  align-items:center;
  justify-content:center;
  padding: 10px;
  min-height: 0;
}

.reelMedia img{
  width: 100%;
  height: 100%;
  object-fit: contain;
  display:block;
}

/* ΛΕΖΑΝΤΑ / META */
.reelCaption{
  flex: 0 0 auto;
  min-height: 190px;         /* <- κράτα χώρο για ημερομηνία + κείμενο */
  max-height: 40dvh;
  overflow: auto;
  -webkit-overflow-scrolling: touch;

  background: linear-gradient(to top, rgba(0,0,0,.70), rgba(0,0,0,.25));
  border-top: 1px solid rgba(255,255,255,.12);
  padding: 12px 14px calc(18px + env(safe-area-inset-bottom));
  font-size: 15px;
}

/* ΗΜΕΡΟΜΗΝΙΑ + DELETE */
.reelMeta{
  display:flex;
  align-items:center;
  justify-content:space-between;
  margin-bottom:6px;
}

.reelDate{
  font-size:13px;
  opacity:.75;
}

/* ΛΕΖΑΝΤΑ */
.reelText{
  line-height:1.35;
  opacity:.95;
}

/* DELETE BUTTON */
.reelDelete{
  background: transparent;
  border: none;
  color: #ff4d4f;
  font-size: 14px;
  font-weight: 600;
  padding: 6px 8px;
  border-radius: 10px;
}

.reelDelete:active{
  background: rgba(255,77,79,.18);
}


/* ===== Add moment modal (ΤΕΛΕΙΑ ΚΕΝΤΡΑΡΙΣΜΕΝΟ) ===== */
.momAdd{
  position: fixed;
  inset: 0;
  z-index: 10001;

  display: flex;
  align-items: center;
  justify-content: center;

  padding: 16px;
}

.momAdd.hidden{
  display: none;
}

/* backdrop */
.momAddBackdrop{
  position: absolute;
  inset: 0;
  background: rgba(0,0,0,.55);
  backdrop-filter: blur(6px);
}

/* το modal */
.momAddCard{
  position: relative;
  width: 100%;
  max-width: 380px;
  gap: 12px;

  background: rgba(18,10,16,.96);
  border: 1px solid rgba(255,255,255,.12);
  border-radius: 22px;
  padding: 16px;

  box-shadow: 0 20px 50px rgba(0,0,0,.55);
  z-index: 1;
}
#pickPhoto{
  margin-bottom: 4px;
}
#momentCaption{
  margin-top: 6px;
}
/* κουμπιά */
.momActions{
  display: flex;
  gap: 10px;
  margin-top: 16px;
}

.momActions .btn{
  flex: 1;
}
/* ===== Page transition ===== */
.app.fadeOut {
  animation: appFadeOut .35s ease forwards;
}

.app.fadeIn {
  animation: appFadeIn .45s ease forwards;
}

@keyframes appFadeOut {
  to {
    opacity: 0;
    transform: scale(.98);
  }
}

@keyframes appFadeIn {
  from {
    opacity: 0;
    transform: scale(1.02);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}
/* ===== Diary Page additions ===== */
.diaryPage { padding: 14px; }

.diaryTextarea{
  width: 100%;
  min-height: 140px;
  border-radius: 14px;
  padding: 12px;
  border: 1px solid rgba(255,255,255,.18);
  background: rgba(0,0,0,.22);
  color: #fff;
  resize: none;
  box-sizing: border-box;
}

/* ΛΙΣΤΑ ΣΗΜΕΙΩΣΕΩΝ (επιτρέπεται scroll μόνο στη λίστα, όχι στο κείμενο) */
.diaryListFull{
  margin-top: 12px;
  max-height: 320px;
  overflow-y: auto;
  overflow-x: hidden;
  -webkit-overflow-scrolling: touch;
  padding-right: 4px;
}

/* ΚΕΙΜΕΝΟ ΣΗΜΕΙΩΣΗΣ – ΠΟΤΕ SCROLL */
.diaryEntry,
.diaryEntryText{
  max-height: none !important;
  overflow: visible !important;
  white-space: pre-wrap;
  word-break: break-word;
  line-height: 1.45;
  font-size: 15px;
}

/* Κουμπί αποθήκευσης κέντρο */
.diaryActions {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 12px;
  margin-top: 16px;
  width: 100%;
}

#diarySave {
  min-width: 160px;
  padding: 12px 24px;
}

/* ===== Calendar Diary UI ===== */

/* wrapper με 2 σειρές */
.calTop{
  display:flex;
  flex-direction: column;
  gap:10px;
  margin-bottom:12px;
}

/* ΠΑΝΩ: Πίσω + */
.calTopRow{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;
}

/* ΜΗΝΑΣ */
.calHeader{
  display:flex;
  align-items:center;
  justify-content:center;
  gap:10px;
}

.calTitle{
  font-weight:950;
  letter-spacing:.2px;
  text-align:center;
  white-space: nowrap;
  min-width: 160px;
}

/* navigation arrows */
.calNav{
  width:38px;
  height:38px;
  border-radius: 999px;
  border:1px solid rgba(255,255,255,.18);
  background: rgba(0,0,0,.25);
  color:#fff;
  font-size:20px;
  display:flex;
  align-items:center;
  justify-content:center;
  cursor:pointer;
}
.calNav:active{ transform: scale(.98); }

/* + button */
#btnDiaryAddOpen{
  min-width:44px;
  min-height:44px;
  padding:0;
  font-size:22px;
  border-radius:14px;
}

/* weekdays */
.calWeekdays{
  display:grid;
  grid-template-columns: repeat(7, 1fr);
  gap:8px;
  margin-bottom:8px;
  opacity:.8;
  font-size:12px;
  text-align:center;
}

/* calendar grid */
.calGrid{
  display:grid;
  grid-template-columns: repeat(7, 1fr);
  gap:8px;
}

.calCell{
  border-radius: 14px;
  border:1px solid rgba(255,255,255,.12);
  background: rgba(0,0,0,.18);
  min-height: 46px;
  padding: 8px 6px;
  color:#fff;
  position: relative;
}

.calCell.empty{
  background: rgba(255,255,255,.03);
  border:1px solid rgba(255,255,255,.06);
}

.calCell.day{
  cursor:pointer;
  transition: transform .08s ease;
}
.calCell.day:active{ transform: scale(.99); }

.calNum{
  font-weight:900;
  font-size:14px;
  text-align:left;
  opacity:.95;
}

/* dot */
.calDot{
  position:absolute;
  right:10px;
  bottom:10px;
  width:6px;
  height:6px;
  border-radius:999px;
  background: rgba(255,255,255,.22);
  opacity:.25;
}

/* today */
.calCell.day.today{
  border-color: rgba(255, 122, 166, .55);
  box-shadow: 0 0 0 1px rgba(255,122,166,.20) inset;
}

/* selected */
.calCell.day.selected{
  border-color: rgba(255, 59, 107, .85);
  background: rgba(255, 59, 107, .14);
  box-shadow: 0 0 0 1px rgba(255,59,107,.20) inset;
}
.calCell.day.selected .calDot{
  background: rgba(255,59,107,.85);
  opacity: 1;
}

/* day has entry */
.calCell.day.hasEntry .calDot{
  background: rgba(255,59,107,.90);
  opacity: 1;
  box-shadow: 0 0 10px rgba(255,59,107,.35);
}

/* day panel */
.calDayPanel{
  margin-top:12px;
  padding:12px;
  border-radius: 18px;
  background: rgba(0,0,0,.16);
  border:1px solid rgba(255,255,255,.10);
}

.calDayTitle{
  font-weight:950;
  margin-bottom:4px;
}

.calDayHint{
  opacity:.8;
  font-size:13px;
  margin-bottom:10px;
}

/* ===== Diary Entry Actions (Αλλαγή / Διαγραφή) ===== */
.diaryEntryActions {
  display: flex;
  justify-content: flex-end;
  gap: 6px;
  align-items: center;
  margin-top: 6px;
}

.diaryEntryActions button,
.diaryEntryActions .btn {
  padding: 4px 8px;
  min-width: auto;
  min-height: auto;
  font-size: 12px;
  border-radius: 8px;
  line-height: 1;
}

.diaryEntryActions i,
.diaryEntryActions span {
  font-size: 13px;
  line-height: 1;
}

/* ===== Responsive tweaks ===== */
@media (max-width: 420px){
  .calTitle{ font-size:15px; min-width: 140px; }
  .calNav{ width:34px; height:34px; font-size:18px; }
  #btnDiaryAddOpen{ min-width:44px; min-height:44px; }
}

/* ===== FORCE diary entries to stack (fix cramped layout) ===== */

/* Η κάθε καταχώρηση να είναι ΚΑΘΕΤΑ, όχι δίπλα-δίπλα */
.diaryItem{
  display: flex !important;
  flex-direction: column !important;
  align-items: stretch !important;
  gap: 8px !important;
}

/* Η ημερομηνία να πιάνει όλο το πλάτος */
.diaryMeta{
  display: block !important;
  margin-bottom: 2px;
  opacity: .85;
  font-size: 13px;
}

/* Το κείμενο να πιάνει full width και να σπάει σωστά */
.diaryText,
.diaryEntryText{
  width: 100% !important;
  white-space: pre-wrap;
  word-break: break-word;
  overflow: visible !important;
}

/* Τα κουμπιά να πάνε κάτω και να μικρύνουν */
.diaryEntryActions{
  display: flex !important;
  justify-content: flex-end !important;
  gap: 8px !important;
  flex-wrap: wrap; /* αν δεν χωράνε, πάνε από κάτω */
}

.diaryEntryActions .btn,
.diaryEntryActions button{
  padding: 6px 10px !important;
  font-size: 12px !important;
  min-width: auto !important;
  border-radius: 10px !important;
  line-height: 1.1 !important;
}


